(this["webpackJsonpmy-blog"]=this["webpackJsonpmy-blog"]||[]).push([[0],{23:function(t,e,c){},30:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),j=c(16),r=c.n(j),l=(c(23),c(7)),i=c(2),b=c(8),o=c(0),a=function(){var t=Object(n.useState)(""),e=Object(b.a)(t,2),c=e[0],s=e[1],j=Object(n.useState)(""),r=Object(b.a)(j,2),l=r[0],a=r[1],d=Object(n.useState)(""),h=Object(b.a)(d,2),O=h[0],u=h[1],x=Object(i.f)();return Object(o.jsx)("div",{className:"addblog",children:Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={title:c,author:l,body:O};try{fetch("http://localhost:5000/blogs",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(t){return x.push("/")}))}catch(n){console.log(n)}},children:[Object(o.jsx)("label",{children:"Title"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",value:c,onChange:function(t){return s(t.target.value)}})," ",Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Author"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",value:l,onChange:function(t){return a(t.target.value)}})," ",Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Body"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",value:O,onChange:function(t){return u(t.target.value)}})," ",Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)("button",{children:"Save Blog"})]})})},d=function(t){var e=t.blogs;return Object(o.jsx)("div",{className:"bloglist",children:e.map((function(t){return Object(o.jsx)("div",{className:"blog",children:Object(o.jsxs)(l.b,{to:"/details/".concat(t.id),style:{textDecoration:"none",color:"black"},children:[Object(o.jsxs)("h3",{children:[" ",t.title," "]}),Object(o.jsxs)("p",{children:["Written by: ",t.author," "]})]})},t.id)}))})},h=function(t){var e=Object(n.useState)(null),c=Object(b.a)(e,2),s=c[0],j=c[1],r=Object(n.useState)(!0),l=Object(b.a)(r,2),i=l[0],o=l[1],a=Object(n.useState)(null),d=Object(b.a)(a,2),h=d[0],O=d[1];return Object(n.useEffect)((function(){fetch(t).then((function(t){if(t.ok)return t.json();throw Error("Failed to fetch data")})).then((function(t){j(t),o(!1),O(!1)})).catch((function(t){O(t.message),o(!1)}))}),[t]),{blogs:s,pending:i,error:h}},O=function(){var t=h("http://localhost:5000/blogs"),e=t.blogs,c=t.pending,n=t.error;return Object(o.jsxs)("div",{className:"blogs",children:[c&&Object(o.jsx)("div",{children:"Loading..."}),e&&Object(o.jsx)(d,{blogs:e}),n&&Object(o.jsxs)("div",{children:[" ",n," "]})]})},u=function(){var t=Object(i.f)(),e=Object(i.g)().id,c=h("http://localhost:5000/blogs/"+e),n=c.blogs,s=c.pending,j=c.error;return Object(o.jsxs)("div",{className:"details",children:[s&&Object(o.jsx)("div",{children:"Loading..."}),j&&Object(o.jsxs)("div",{children:[" ",j," "]}),n&&Object(o.jsxs)("article",{children:[Object(o.jsxs)("h2",{children:["Title: ",n.title," "]}),Object(o.jsxs)("p",{children:["Written By: ",n.author," "]}),Object(o.jsxs)("p",{children:[" ",n.body," "]}),Object(o.jsx)("button",{onClick:function(){fetch("http://localhost:5000/blogs/"+e,{method:"DELETE"}).then((function(e){return t.push("/")})).catch((function(t){return console.log(t)}))},children:"Delete Blog"})]})]})},x=function(){return Object(o.jsxs)("div",{className:"navbar",children:[Object(o.jsx)("h2",{children:"Nairobian"}),Object(o.jsxs)("div",{className:"link",children:[Object(o.jsx)(l.b,{to:"/",children:"Blogs"}),Object(o.jsx)(l.b,{to:"/addblog",children:"Add Blog"})]})]})},g=function(){return Object(o.jsx)(l.a,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(x,{}),Object(o.jsx)("div",{className:"content",children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{exact:!0,path:"/",children:Object(o.jsx)(O,{})}),Object(o.jsx)(i.a,{path:"/addblog",children:Object(o.jsx)(a,{})}),Object(o.jsx)(i.a,{path:"/details/:id",children:Object(o.jsx)(u,{})})]})})]})})};r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.30231937.chunk.js.map